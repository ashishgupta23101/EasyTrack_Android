{"version":3,"sources":["webpack:///./src/app/models/configuration.ts","webpack:///./src/app/pages/settings/settings.module.ts","webpack:///./src/app/pages/settings/settings.page.html","webpack:///./src/app/pages/settings/settings.page.scss","webpack:///./src/app/pages/settings/settings.page.ts"],"names":[],"mappings":"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","file":"pages-settings-settings-module.js","sourcesContent":["export class Configuration {\n    days = 30;\n    deviceid: string;\n    pickUpscan = true;\n    outforDelivery = true;\n    delivered = true;\n    nofinaldeliveredstatus = true;\n    isDamaged = 1;\n    isWeatherDelay = 1;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPage } from './settings.page';\nimport { SharedModule } from '../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),SharedModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"tertiary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"fillForm()\\\">\\n          <ion-icon  name=\\\"refresh\\\"></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n      <ion-title>Settings</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-content>\\n      <form *ngIf=\\\"setting_Form\\\" [formGroup]=\\\"setting_Form\\\" (submit)=\\\"saveSettings(setting_Form.value)\\\">\\n      <ion-card><ion-item-divider color=\\\"tertiary\\\">Set Notification Options</ion-item-divider>\\n          <ion-card-content>\\n            \\n              <ion-grid>\\n                  <ion-row><ion-col><ion-checkbox  color=\\\"tertiary\\\" formControlName=\\\"PickUp\\\"></ion-checkbox>  Pick Up type scan</ion-col></ion-row>\\n                  <ion-row><ion-col><ion-checkbox  color=\\\"tertiary\\\" formControlName=\\\"OutforDelivery\\\"></ion-checkbox>  Out for Delivery</ion-col></ion-row>\\n                  <ion-row><ion-col><ion-checkbox  color=\\\"tertiary\\\" formControlName=\\\"Delivered\\\"></ion-checkbox>  Delivered(includes lcoation)</ion-col></ion-row>\\n                  <ion-row><ion-col><ion-checkbox  color=\\\"tertiary\\\" formControlName=\\\"NFDeliveryStaus\\\"></ion-checkbox>  No Final Delivery Status</ion-col></ion-row>\\n                  <ion-row><ion-col><ion-checkbox  color=\\\"tertiary\\\" formControlName=\\\"Damages\\\"></ion-checkbox>  Damages</ion-col></ion-row>\\n                  <ion-row><ion-col><ion-checkbox  color=\\\"tertiary\\\" formControlName=\\\"Weather\\\"></ion-checkbox>  Weather Delay</ion-col></ion-row>\\n              </ion-grid>\\n          \\n          </ion-card-content>\\n        </ion-card>\\n        <ion-card>\\n            <ion-item-divider >Other Settings</ion-item-divider>\\n            <ion-card-content>\\n        <ion-grid #otherSettings >\\n            <ion-row><ion-col class=\\\"margincol\\\">Auto Archive(Days)</ion-col><ion-col><ion-input type=\\\"number\\\" formControlName=\\\"archiveDays\\\"></ion-input></ion-col></ion-row>\\n          </ion-grid>\\n        </ion-card-content>\\n      </ion-card>\\n      <ion-button class=\\\"submit-btn\\\" color=\\\"tertiary\\\"  type=\\\"submit\\\" expand=\\\"block\\\" [disabled]=\\\"!setting_Form.valid\\\">Save</ion-button>\\n    </form>\\n\\n  </ion-content>\\n  <!--<ion-footer>\\n    <app-footertab></app-footertab>\\n    </ion-footer>-->\"","module.exports = \"ion-card {\\n  border-block: 2px dotted;\\n  border-block-color: #2d2e2e; }\\n\\nion-card-content {\\n  padding: 7px 0px 0px 0px;\\n  background-color: #f8e8ff; }\\n\\nion-card-content ion-col {\\n    font-family: Verdana;\\n    font-size: 12px;\\n    color: #9906d8;\\n    padding: 0px;\\n    line-height: 27px; }\\n\\nion-item-divider {\\n  background-color: #cf5fff;\\n  font-size: 13px;\\n  font-weight: bolder;\\n  color: #ffffff; }\\n\\nion-toggle {\\n  padding-left: 65px; }\\n\\n.margincol {\\n  margin: auto; }\\n\\nion-checkbox {\\n  float: left;\\n  margin: 2px 6px 6px 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2V0dGluZ3MvRDpcXENvZGVcXGlPUyBBcHBcXFZhaWJoYXZcXEFuZHJvaWRcXENvZGUvc3JjXFxhcHBcXHBhZ2VzXFxzZXR0aW5nc1xcc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQVMsd0JBQXdCO0VBQUUsMkJBQTBCLEVBQUE7O0FBQzdEO0VBQWlCLHdCQUF3QjtFQUFDLHlCQUF5QixFQUFBOztBQUFuRTtJQUVJLG9CQUFvQjtJQUNwQixlQUFlO0lBQ2YsY0FBYztJQUVkLFlBQVk7SUFDWixpQkFBaUIsRUFBQTs7QUFHckI7RUFDSSx5QkFBeUI7RUFDekIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixjQUFjLEVBQUE7O0FBRWxCO0VBQVcsa0JBQWtCLEVBQUE7O0FBQzdCO0VBQVcsWUFBWSxFQUFBOztBQUN2QjtFQUNJLFdBQVc7RUFDWCxxQkFBcUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW9uLWNhcmR7Ym9yZGVyLWJsb2NrOiAycHggZG90dGVkOyBib3JkZXItYmxvY2stY29sb3I6IzJkMmUyZX1cbmlvbi1jYXJkLWNvbnRlbnR7cGFkZGluZzogN3B4IDBweCAwcHggMHB4O2JhY2tncm91bmQtY29sb3I6ICNmOGU4ZmY7XG4gaW9uLWNvbHsgICAgXG4gICAgZm9udC1mYW1pbHk6IFZlcmRhbmE7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGNvbG9yOiAjOTkwNmQ4O1xuICAgIC8vZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgICBwYWRkaW5nOiAwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDI3cHg7XG59XG59XG5pb24taXRlbS1kaXZpZGVye1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNjZjVmZmY7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gICAgY29sb3I6ICNmZmZmZmY7XG59XG5pb24tdG9nZ2xle3BhZGRpbmctbGVmdDogNjVweDt9XG4ubWFyZ2luY29se21hcmdpbjogYXV0bzt9XG5pb24tY2hlY2tib3h7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luOiAycHggNnB4IDZweCAwO1xuICAgIH1cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoaderService } from 'src/app/providers/loader.service';\nimport { TrackingService } from 'src/services/tracking.service';\nimport { Configuration } from 'src/app/models/configuration';\nimport { Storage } from '@ionic/storage';\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n// tslint:disable-next-line: variable-name\n  setting_Form: FormGroup;\n  constructor(private trackService: TrackingService, private router: Router, private storage: Storage,\n              public formBuilder: FormBuilder, private loadingController: LoaderService) { }\n\n  ngOnInit() {\n  }\n  ionViewWillEnter() {\n    this.fillForm();\n  }\n  saveSettings(value){\n    try {\n      this.loadingController.present('Saving Configuration.');\n      let _config = new Configuration();\n      let id = localStorage.getItem(\"deviceID\");\n         if (id !== 'null' && id !== null && id !== undefined && id !== '') {\n          _config.deviceid = id;\n          _config.days = value.archiveDays;\n          _config.delivered = value.Delivered;\n          _config.pickUpscan = value.PickUp;\n          _config.outforDelivery = value.OutforDelivery;\n          _config.nofinaldeliveredstatus = value.NFDeliveryStaus;\n          _config.isDamaged = value.Damages ? 1 : 0;\n          _config.isWeatherDelay = value.Weather ? 1 : 0;\n          this.trackService.saveDeviceConfiguration(_config).subscribe(data => {\n            // tslint:disable-next-line: no-debugger\n            if(data.Error === true)\n            {\n              this.loadingController.dismiss();\n              this.trackService.logError(JSON.stringify(data.Message),'saveSettings');\n              this.loadingController.presentToast('Error',data.Message);\n              return;\n            }\n            // Tracking Response\n            this.storage.set('_deviceConfig', _config);\n            this.loadingController.presentToast('Info', 'Settings saved successfully');\n            this.loadingController.dismiss();\n          },\n          error => {\n            this.trackService.logError(JSON.stringify(error),'saveSettings');\n            this.loadingController.presentToast('Error', 'Something went wrong in API request');\n            this.loadingController.dismiss();\n          });\n        } else {\n          this.loadingController.presentToast('Error', 'No device id found.');\n          this.loadingController.dismiss();\n        }\n\n    } catch (Exception) {\n      this.trackService.logError(JSON.stringify(Exception),'saveSettings');\n      this.loadingController.presentToast('Error', 'Something went wrong!');\n      this.loadingController.dismiss();\n    }\n  }\n\n  refresh(config = new Configuration()) {\n      this.setting_Form = this.formBuilder.group({\n      PickUp: new FormControl(config.pickUpscan),\n      OutforDelivery: new FormControl(config.outforDelivery),\n      Delivered : new FormControl(config.delivered),\n      NFDeliveryStaus: new FormControl(config.nofinaldeliveredstatus),\n      Damages: new FormControl(config.isDamaged === 1 ? true : false),\n      Weather: new FormControl(config.isWeatherDelay === 1 ? true : false),\n      archiveDays: new FormControl(config.days)\n    });\n  }\n  fillForm() {\n    this.storage.get('_deviceConfig').then(result => {\n      let config  = new Configuration();\n      if (result !== null && result !== undefined) {\n        config = result;\n      }\n      this.refresh(config);\n    });\n  }\n}\n"],"sourceRoot":""}